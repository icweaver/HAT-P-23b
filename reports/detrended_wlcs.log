Traceback (most recent call last):
  File "/usr/share/miniconda/envs/hatp23b/lib/python3.9/site-packages/jupyter_cache/executors/utils.py", line 51, in single_nb_execution
    executenb(
  File "/usr/share/miniconda/envs/hatp23b/lib/python3.9/site-packages/nbclient/client.py", line 1087, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "/usr/share/miniconda/envs/hatp23b/lib/python3.9/site-packages/nbclient/util.py", line 74, in wrapped
    return just_run(coro(*args, **kwargs))
  File "/usr/share/miniconda/envs/hatp23b/lib/python3.9/site-packages/nbclient/util.py", line 53, in just_run
    return loop.run_until_complete(coro)
  File "/usr/share/miniconda/envs/hatp23b/lib/python3.9/asyncio/base_events.py", line 642, in run_until_complete
    return future.result()
  File "/usr/share/miniconda/envs/hatp23b/lib/python3.9/site-packages/nbclient/client.py", line 540, in async_execute
    await self.async_execute_cell(
  File "/usr/share/miniconda/envs/hatp23b/lib/python3.9/site-packages/nbclient/client.py", line 832, in async_execute_cell
    self._check_raise_for_error(cell, exec_reply)
  File "/usr/share/miniconda/envs/hatp23b/lib/python3.9/site-packages/nbclient/client.py", line 740, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply['content'])
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
data_dict = {k:f"{v}/results.dat" for k, v in fpath_dict.items()}

# Truths from Sada and Ramon (2016) + GAIA DR2
with open(f"data/detrended_wlcs/truth.json", "rb") as f:
    parameters = json.load(f)

parameters["d"] = {
    "symbol": "$\delta$",
    "truth": [0.1113**2 * 1e6, 0.001**2 * 1e6, 0.0009**2 * 1e6],
    "definition": "transit depth (ppm)"
}

# Holds results from each transit
results = {}
for transit, fpath in data_dict.items():
    results[transit] = pd.read_table(fpath, sep='\s+', index_col="Variable")
    results[transit].loc["t0"]["Value"] -= 2450000
    p_val, p_u, p_d = results[transit].loc["p"].values.T
    results[transit].loc["d"] = p_val**2 * 1e6, 2e6 * p_val * p_u, 2e6 * p_val * p_d

# Create summary table of all transits
results_dict = {}
results_dict["parameter"] = [p["symbol"] for p in parameters.values()]
#results_dict['definition'] = [p["definition"] for p in parameters.values()]
for transit, results in results.items():
    results_dict[transit] = []
    for param, param_info in parameters.items():
        if param == "P":
            fmt_vals = {"fmt_v":".5f", "fmt_vu":".3g", "fmt_vd":".3g"}
        else:
            fmt_vals = {"fmt_v":".5f", "fmt_vu":".5f", "fmt_vd":".5f"}
        results_dict[transit].append(
            utils.write_latex_row_sig_fig(results.loc[param], **fmt_vals)
        )
        
results_table = pd.DataFrame(results_dict)
results_table#.to_clipboard(index=False)
------------------

[0;31m---------------------------------------------------------------------------[0m
[0;31mAttributeError[0m                            Traceback (most recent call last)
[0;32m<ipython-input-4-235296c52829>[0m in [0;36m<module>[0;34m[0m
[1;32m     31[0m             [0mfmt_vals[0m [0;34m=[0m [0;34m{[0m[0;34m"fmt_v"[0m[0;34m:[0m[0;34m".5f"[0m[0;34m,[0m [0;34m"fmt_vu"[0m[0;34m:[0m[0;34m".5f"[0m[0;34m,[0m [0;34m"fmt_vd"[0m[0;34m:[0m[0;34m".5f"[0m[0;34m}[0m[0;34m[0m[0;34m[0m[0m
[1;32m     32[0m         results_dict[transit].append(
[0;32m---> 33[0;31m             [0mutils[0m[0;34m.[0m[0mwrite_latex_row_sig_fig[0m[0;34m([0m[0mresults[0m[0;34m.[0m[0mloc[0m[0;34m[[0m[0mparam[0m[0;34m][0m[0;34m,[0m [0;34m**[0m[0mfmt_vals[0m[0;34m)[0m[0;34m[0m[0;34m[0m[0m
[0m[1;32m     34[0m         )
[1;32m     35[0m [0;34m[0m[0m

[0;31mAttributeError[0m: module 'utils' has no attribute 'write_latex_row_sig_fig'
AttributeError: module 'utils' has no attribute 'write_latex_row_sig_fig'

